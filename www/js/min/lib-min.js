function login(){var t=$(".login #username").val(),i=$(".login #password").val();console.log("Username: "+t),console.log("Password: "+$.md5(i))}function drawLore(t){$.each(t,function(t,i){$("#lore_output").append("<div class='item item-wrap'><h2>"+i.title+"</h2><p>"+i.text+"</p></div>")})}function getLoreData(){$("#lore_output").text("Fetching Data");var t=new XMLHttpRequest;t.open("GET","http://www.the-hybrid.co.uk/api.php?request=get_lore_posts",!0),t.onload=function(){t.status>=200&&t.status<400?setData(JSON.parse(t.responseText)):$("#lore_output").text("Error Fetching Data")},t.onerror=function(){$("#lore_output").text("Error Connecting To Server")},t.send()}function setData(t){$(document).ready(function(){$("#lore_output").text(t)})}function drawHex(t,i,o){var e=1e-4,l=[[i+1*e,o+0],[i+3*e,o+0],[i+4*e,o+1*e*2.7],[i+3*e,o+2*e*2.7],[i+1*e,o+2*e*2.7],[i+0*e,o+1*e*2.7]];return l}function isNumber(t){return t==parseFloat(t)}function isEven(t){return isNumber(t)&&t%2===0}function isOdd(t){return isNumber(t)&&Math.abs(t)%2===1}function locationError(){alert("ERROR: Could Not Get Location Data")}function drawFences(t,o,e){var l=10,s=10,r=3e-4,a=27e-5;for(count=0;count<e.setup.height;count++)if(isEven(count))for(i=0;i<e.setup.width;i++){var n=0*i,p=i*-54e-5;polygons.push(map.drawPolygon({paths:drawHex(1,t-r*count,o-p),strokeColor:e.grid.strokeColour,strokeOpacity:e.grid.strokeWeight,strokeWeight:e.grid.strokeOpacity,fillColor:e.style.fillColor,fillOpacity:e.style.fillOpactiy}))}else if(isOdd(count))for(i=0;i<e.setup.width-1;i++){var n=0*i,p=i*-54e-5;polygons.push(map.drawPolygon({paths:drawHex(1,t-r*count,o+a-p),strokeColor:e.grid.strokeColour,strokeOpacity:e.grid.strokeWeight,strokeWeight:e.grid.strokeOpacity,fillColor:e.style.fillColor,fillOpacity:e.style.fillOpactiy}))}}function init_geo(){navigator.geolocation.getCurrentPosition(locationSuccess,locationError),map.removeMarkers()}function claim_location(t,o){for(i=0;i<polygons.length;i++)map.checkGeofence(position.coords.latitude,position.coords.longitude,polygons[i])&&(1==t?(polygons[i].setOptions({fillColor:o.style.vampire,fillOpacity:.5}),o.grid[i]=1):2==t?(polygons[i].setOptions({fillColor:o.style.werewolf,fillOpacity:.5}),o.grid[i]=2):3==t?(polygons[i].setOptions({fillColor:o.style.ghost,fillOpacity:.5}),o.grid[i]=3):4==t&&(polygons[i].setOptions({fillColor:o.style.zombie,fillOpacity:.5}),o.grid[i]=4));var e=JSON.stringify(o);$.post("http://www.jamesrwilliams.co.uk/hybrid/api.php?request=update_game",{data:e},function(t){})}function initialise(t){var o=t;if(polygons=[],"geolocation"in navigator){map=new GMaps({zoom:17,div:"#map-canvas",lat:51.88718,lng:-2.088669,disableDefaultUI:!0});var e=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];for(map.setOptions({styles:e}),drawFences(51.888094,-2.091802,o),i=0;i<polygons.length;i++)"1"==o.grid[i]?polygons[i].setOptions({fillColor:o.style.vampire,fillOpacity:o.style.active.fillOpacity,strokeWeight:.1}):"2"==o.grid[i]?polygons[i].setOptions({fillColor:o.style.werewolf,fillOpacity:o.style.active.fillOpacity,strokeWeight:.1}):"3"==o.grid[i]?polygons[i].setOptions({fillColor:o.style.ghost,fillOpacity:o.style.active.fillOpacity,strokeWeight:.1}):"4"==o.grid[i]?polygons[i].setOptions({fillColor:o.style.zombie,fillOpacity:o.style.active.fillOpacity,strokeWeight:.1}):polygons[i].setOptions({fillColor:"#FFFFFF",fillOpacity:.1,strokeWeight:.1});init_geo()}else alert("Geolocation Is Unavailable")}var game=new Object,position=new Object,map,i,output,test_marker,polygons=[],locationSuccess=function(t){position=t;var i=map.addMarker({lat:position.coords.latitude,lng:position.coords.longitude,title:"You",click:function(t){output.innerHTML=output.innerHTML+"<p>This is your location</p>"}});$("#claimBtn").removeAttr("disabled")};