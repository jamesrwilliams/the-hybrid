function login(){console.log("Login Started");var e=$(".login #username").val(),t=$(".login #password").val();console.log("Username: "+e),console.log("Password: "+$.md5(t))}function drawLore(e){$.each(e,function(e,t){$("#lore_output").append("<a class='item item-wrap'><h2>"+t.title+"</h2><p>"+t.text+"</p>")})}function getLoreData(){$("#lore_output").text("Fetching Data");var e=new XMLHttpRequest;e.open("GET","http://www.the-hybrid.co.uk/api.php?request=get_lore_posts",!0),e.onload=function(){if(e.status>=200&&e.status<400){var t=JSON.parse(e.responseText);setData(t)}else $("#lore_output").text("Error Fetching Data")},e.onerror=function(){$("#lore_output").text("Error Connecting To Server")},e.send()}function setData(e){$(document).ready(function(){$("#lore_output").text(e)})}function drawHex(e,t,l){var i=1e-4,o=[[t+1*i,l+0],[t+3*i,l+0],[t+4*i,l+1*i*2.7],[t+3*i,l+2*i*2.7],[t+1*i,l+2*i*2.7],[t+0*i,l+1*i*2.7]];return o}function isNumber(e){return e==parseFloat(e)}function isEven(e){return isNumber(e)&&e%2===0}function isOdd(e){return isNumber(e)&&Math.abs(e)%2===1}function locationError(){output.innerHTML=output.innerHTML+"<p>Geolocation Fetch Fail</p>"}function drawFences(e,t,l){var o=10,s=10,r=3e-4,a=27e-5;for(count=0;count<l.setup.height;count++)if(isEven(count))for(i=0;i<l.setup.width;i++){var n=0*i,p=i*-54e-5;polygons.push(map.drawPolygon({paths:drawHex(1,e-r*count,t-p),strokeColor:l.grid.strokeColour,strokeOpacity:l.grid.strokeWeight,strokeWeight:l.grid.strokeOpacity,fillColor:l.style.fillColor,fillOpacity:l.style.fillOpactiy}))}else if(isOdd(count))for(i=0;i<l.setup.width-1;i++){var n=0*i,p=i*-54e-5;polygons.push(map.drawPolygon({paths:drawHex(1,e-r*count,t+a-p),strokeColor:l.grid.strokeColour,strokeOpacity:l.grid.strokeWeight,strokeWeight:l.grid.strokeOpacity,fillColor:l.style.fillColor,fillOpacity:l.style.fillOpactiy}))}}function init_geo(){navigator.geolocation.getCurrentPosition(locationSuccess,locationError),map.removeMarkers()}function claim_location(e,t){for(i=0;i<polygons.length;i++)(map.checkGeofence(test_lat,test_lng,polygons[i])||map.checkGeofence(position.coords.latitude,position.coords.longitude,polygons[i]))&&(1==e?(polygons[i].setOptions({fillColor:t.style.vampire,fillOpacity:1}),t.grid[i]=1):2==e?(polygons[i].setOptions({fillColor:t.style.werewolf,fillOpacity:1}),t.grid[i]=2):3==e?(polygons[i].setOptions({fillColor:t.style.ghost,fillOpacity:1}),t.grid[i]=3):4==e&&(polygons[i].setOptions({fillColor:t.style.zombie,fillOpacity:1}),t.grid[i]=4));var l=JSON.stringify(t);$.post("http://www.jamesrwilliams.co.uk/hybrid/api.php?request=update_game",{data:l},function(e){})}function initialise(e){var t=e;if("geolocation"in navigator){map=new GMaps({zoom:17,div:"#map-canvas",lat:51.88718,lng:-2.088669,disableDefaultUI:!0});var l=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{hue:"#ff0000"},{lightness:"100"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{lightness:"7"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#48d1af"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#66b0ff"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{lightness:"100"},{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{lightness:"100"},{visibility:"on"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"transit.station.bus",elementType:"labels.text.fill",stylers:[{hue:"#ff0000"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#4aceae"},{lightness:17}]},{featureType:"water",elementType:"geometry.fill",stylers:[{lightness:"100"}]}];for(map.setOptions({styles:l}),drawFences(51.88886,-2.091646,t),i=0;i<polygons.length;i++)"1"===t.grid[i]?polygons[i].setOptions({fillColor:t.style.vampire,fillOpacity:t.style.active.fillOpacity}):"2"==t.grid[i]?polygons[i].setOptions({fillColor:t.style.werewolf,fillOpacity:t.style.active.fillOpacity}):"3"==t.grid[i]?polygons[i].setOptions({fillColor:t.style.ghost,fillOpacity:t.style.active.fillOpacity}):"4"==t.grid[i]?polygons[i].setOptions({fillColor:t.style.zombie,fillOpacity:t.style.active.fillOpacity}):polygons[i].setOptions({fillColor:"#FFFFFF",fillOpacity:.1});init_geo()}}var game=new Object,position=new Object,test_lat=51.887761,test_lng=-2.088182,map,i,output,test_marker,polygons=[],locationSuccess=function(e){position=e;var t=map.addMarker({lat:position.coords.latitude,lng:position.coords.longitude,title:"You",click:function(e){output.innerHTML=output.innerHTML+"<p>This is your location</p>"}});test_marker=map.addMarker({lat:test_lat,lng:test_lng,title:"Test",click:function(e){output.innerHTML=output.innerHTML+"<p>This is the Test Marker </p>"}}),$("#claimBtn").removeAttr("disabled")};