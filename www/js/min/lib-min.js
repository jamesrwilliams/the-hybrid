function login(){var i=$(".login #username").val(),t=$(".login #password").val();console.log("Username: "+i),console.log("Password: "+$.md5(t))}function drawLore(i){$.each(i,function(i,t){$("#lore_output").append("<div class='item item-wrap'><h2>"+t.title+"</h2><p>"+t.text+"</p></div>")})}function getLoreData(){$("#lore_output").text("Fetching Data");var i=new XMLHttpRequest;i.open("GET","http://www.the-hybrid.co.uk/api.php?request=get_lore_posts",!0),i.onload=function(){i.status>=200&&i.status<400?setData(JSON.parse(i.responseText)):$("#lore_output").text("Error Fetching Data")},i.onerror=function(){$("#lore_output").text("Error Connecting To Server")},i.send()}function setData(i){$(document).ready(function(){$("#lore_output").text(i)})}function drawHex(i,t,o){var e=1e-4,l=[[t+1*e,o+0],[t+3*e,o+0],[t+4*e,o+1*e*2.7],[t+3*e,o+2*e*2.7],[t+1*e,o+2*e*2.7],[t+0*e,o+1*e*2.7]];return l}function isNumber(i){return i==parseFloat(i)}function isEven(i){return isNumber(i)&&i%2===0}function isOdd(i){return isNumber(i)&&Math.abs(i)%2===1}function locationError(){alert("ERROR: Could Not Get Location Data")}function drawFences(t,o,e){var l=3e-4,s=27e-5,r,a,n;for(n=0;n<e.setup.height;n++)if(isEven(n))for(i=0;i<e.setup.width;i++)r=0*i,a=i*-54e-5,polygons.push(map.drawPolygon({paths:drawHex(1,t-l*n,o-a),strokeColor:e.grid.strokeColour,strokeOpacity:e.grid.strokeWeight,strokeWeight:e.grid.strokeOpacity,fillColor:e.style.fillColor,fillOpacity:e.style.fillOpactiy}));else if(isOdd(n))for(i=0;i<e.setup.width-1;i++)r=0*i,a=i*-54e-5,polygons.push(map.drawPolygon({paths:drawHex(1,t-l*n,o+s-a),strokeColor:e.grid.strokeColour,strokeOpacity:e.grid.strokeWeight,strokeWeight:e.grid.strokeOpacity,fillColor:e.style.fillColor,fillOpacity:e.style.fillOpactiy}))}function init_geo(){navigator.geolocation.getCurrentPosition(locationSuccess,locationError),map.removeMarkers()}function claim_location(t,o){for(i=0;i<polygons.length;i++)map.checkGeofence(position.coords.latitude,position.coords.longitude,polygons[i])&&(1==t?(polygons[i].setOptions({fillColor:o.style.vampire,fillOpacity:.5}),o.grid[i]=1):2==t?(polygons[i].setOptions({fillColor:o.style.werewolf,fillOpacity:.5}),o.grid[i]=2):3==t?(polygons[i].setOptions({fillColor:o.style.ghost,fillOpacity:.5}),o.grid[i]=3):4==t&&(polygons[i].setOptions({fillColor:o.style.zombie,fillOpacity:.5}),o.grid[i]=4));var e=JSON.stringify(o);$.post("http://www.jamesrwilliams.co.uk/hybrid/api.php?request=update_game",{data:e},function(i){console.log(i)})}function initialise(t){var o=t;if(polygons=[],"geolocation"in navigator){map=new GMaps({zoom:17,div:"#map-canvas",lat:51.88718,lng:-2.088669,disableDefaultUI:!0});var e=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];for(map.setOptions({styles:e}),drawFences(51.888094,-2.091802,o),i=0;i<polygons.length;i++)"1"==o.grid[i]?polygons[i].setOptions({fillColor:o.style.vampire,fillOpacity:o.style.active.fillOpacity,strokeWeight:.1}):"2"==o.grid[i]?polygons[i].setOptions({fillColor:o.style.werewolf,fillOpacity:o.style.active.fillOpacity,strokeWeight:.1}):"3"==o.grid[i]?polygons[i].setOptions({fillColor:o.style.ghost,fillOpacity:o.style.active.fillOpacity,strokeWeight:.1}):"4"==o.grid[i]?polygons[i].setOptions({fillColor:o.style.zombie,fillOpacity:o.style.active.fillOpacity,strokeWeight:.1}):polygons[i].setOptions({fillColor:"#FFFFFF",fillOpacity:.1,strokeWeight:.1});init_geo()}else alert("Geolocation Is Unavailable")}var alert,console,map,i,GMaps,game={},position={},polygons=[],locationSuccess=function(i){position=i;var t=map.addMarker({lat:position.coords.latitude,lng:position.coords.longitude,title:"You"});$("#claimBtn").removeAttr("disabled")};